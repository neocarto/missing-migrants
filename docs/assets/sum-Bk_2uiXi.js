import{b as G,c as L}from"./index-DWCRgfoN.js";function S(t,f,r){if(t!==null)for(var e,i,o,u,a,n,l,c=0,s=0,y,h=t.type,v=h==="FeatureCollection",g=h==="Feature",b=v?t.features.length:1,P=0;P<b;P++){l=v?t.features[P].geometry:g?t.geometry:t,y=l?l.type==="GeometryCollection":!1,a=y?l.geometries.length:1;for(var w=0;w<a;w++){var p=0,M=0;if(u=y?l.geometries[w]:l,u!==null){n=u.coordinates;var C=u.type;switch(c=0,C){case null:break;case"Point":if(f(n,s,P,p,M)===!1)return!1;s++,p++;break;case"LineString":case"MultiPoint":for(e=0;e<n.length;e++){if(f(n[e],s,P,p,M)===!1)return!1;s++,C==="MultiPoint"&&p++}C==="LineString"&&p++;break;case"Polygon":case"MultiLineString":for(e=0;e<n.length;e++){for(i=0;i<n[e].length-c;i++){if(f(n[e][i],s,P,p,M)===!1)return!1;s++}C==="MultiLineString"&&p++,C==="Polygon"&&M++}C==="Polygon"&&p++;break;case"MultiPolygon":for(e=0;e<n.length;e++){for(M=0,i=0;i<n[e].length;i++){for(o=0;o<n[e][i].length-c;o++){if(f(n[e][i][o],s,P,p,M)===!1)return!1;s++}M++}p++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(S(u.geometries[e],f)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function k(t,f){if(t.type==="Feature")f(t,0);else if(t.type==="FeatureCollection")for(var r=0;r<t.features.length&&f(t.features[r],r)!==!1;r++);}function B(t,f,r){var e=r;return k(t,function(i,o){o===0&&r===void 0?e=i:e=f(e,i,o)}),e}function d(t,f){var r,e,i,o,u,a,n,l,c,s,y=0,h=t.type==="FeatureCollection",v=t.type==="Feature",g=h?t.features.length:1;for(r=0;r<g;r++){for(a=h?t.features[r].geometry:v?t.geometry:t,l=h?t.features[r].properties:v?t.properties:{},c=h?t.features[r].bbox:v?t.bbox:void 0,s=h?t.features[r].id:v?t.id:void 0,n=a?a.type==="GeometryCollection":!1,u=n?a.geometries.length:1,i=0;i<u;i++){if(o=n?a.geometries[i]:a,o===null){if(f(null,y,l,c,s)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(f(o,y,l,c,s)===!1)return!1;break}case"GeometryCollection":{for(e=0;e<o.geometries.length;e++)if(f(o.geometries[e],y,l,c,s)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}y++}}function U(t,f,r){var e=r;return d(t,function(i,o,u,a,n){e=f(e,i,o,u,a,n)}),e}function m(t,f){d(t,function(r,e,i,o,u){var a=r===null?null:r.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return f(G(r,i,{bbox:o,id:u}),e,0)===!1?!1:void 0}var n;switch(a){case"MultiPoint":n="Point";break;case"MultiLineString":n="LineString";break;case"MultiPolygon":n="Polygon";break}for(var l=0;l<r.coordinates.length;l++){var c=r.coordinates[l],s={type:n,coordinates:c};if(f(G(s,i),e,l)===!1)return!1}})}function E(t,f){m(t,function(r,e,i){var o=0;if(r.geometry){var u=r.geometry.type;if(!(u==="Point"||u==="MultiPoint")){var a,n=0,l=0,c=0;if(S(r,function(s,y,h,v,g){if(a===void 0||e>n||v>l||g>c){a=s,n=e,l=v,c=g,o=0;return}var b=L([a,s],r.properties);if(f(b,e,i,g,o)===!1)return!1;o++,a=s})===!1)return!1}}})}function V(t,f,r){var e=r,i=!1;return E(t,function(o,u,a,n,l){i===!1&&r===void 0?e=o:e=f(e,o,u,a,n,l),i=!0}),e}function W(t,f){let r;if(f===void 0)for(const e of t)e!=null&&(r<e||r===void 0&&e>=e)&&(r=e);else{let e=-1;for(let i of t)(i=f(i,++e,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function q(t,f){let r=0;if(f===void 0)for(let e of t)(e=+e)&&(r+=e);else{let e=-1;for(let i of t)(i=+f(i,++e,t))&&(r+=i)}return r}export{m as a,U as b,S as c,B as d,V as e,k as f,d as g,W as m,q as s};
