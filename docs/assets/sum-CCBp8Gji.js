var g=63710088e-1,k={centimeters:g*100,centimetres:g*100,degrees:360/(2*Math.PI),feet:g*3.28084,inches:g*39.37,kilometers:g/1e3,kilometres:g/1e3,meters:g,metres:g,miles:g/1609.344,millimeters:g*1e3,millimetres:g*1e3,nauticalmiles:g/1852,radians:1,yards:g*1.0936};function P(e,i,t={}){const r={type:"Feature"};return(t.id===0||t.id)&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.properties=i||{},r.geometry=e,r}function D(e,i,t={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!C(e[0])||!C(e[1]))throw new Error("coordinates must contain numbers");return P({type:"Point",coordinates:e},i,t)}function N(e,i,t={}){for(const n of e){if(n.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(n[n.length-1].length!==n[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<n[n.length-1].length;o++)if(n[n.length-1][o]!==n[0][o])throw new Error("First and last Position are not equivalent.")}return P({type:"Polygon",coordinates:e},i,t)}function G(e,i,t={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return P({type:"LineString",coordinates:e},i,t)}function B(e,i={}){const t={type:"FeatureCollection"};return i.id&&(t.id=i.id),i.bbox&&(t.bbox=i.bbox),t.features=e,t}function F(e,i,t={}){return P({type:"MultiLineString",coordinates:e},i,t)}function U(e,i,t={}){return P({type:"MultiPolygon",coordinates:e},i,t)}function O(e,i="kilometers"){const t=k[i];if(!t)throw new Error(i+" units is invalid");return e*t}function T(e){return e%(2*Math.PI)*180/Math.PI}function V(e){return e%360*Math.PI/180}function C(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function W(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function L(e,i,t){if(e!==null)for(var r,n,o,u,s,a,f,c=0,l=0,m,v=e.type,h=v==="FeatureCollection",p=v==="Feature",M=h?e.features.length:1,d=0;d<M;d++){f=h?e.features[d].geometry:p?e.geometry:e,m=f?f.type==="GeometryCollection":!1,s=m?f.geometries.length:1;for(var E=0;E<s;E++){var y=0,b=0;if(u=m?f.geometries[E]:f,u!==null){a=u.coordinates;var w=u.type;switch(c=0,w){case null:break;case"Point":if(i(a,l,d,y,b)===!1)return!1;l++,y++;break;case"LineString":case"MultiPoint":for(r=0;r<a.length;r++){if(i(a[r],l,d,y,b)===!1)return!1;l++,w==="MultiPoint"&&y++}w==="LineString"&&y++;break;case"Polygon":case"MultiLineString":for(r=0;r<a.length;r++){for(n=0;n<a[r].length-c;n++){if(i(a[r][n],l,d,y,b)===!1)return!1;l++}w==="MultiLineString"&&y++,w==="Polygon"&&b++}w==="Polygon"&&y++;break;case"MultiPolygon":for(r=0;r<a.length;r++){for(b=0,n=0;n<a[r].length;n++){for(o=0;o<a[r][n].length-c;o++){if(i(a[r][n][o],l,d,y,b)===!1)return!1;l++}b++}y++}break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(L(u.geometries[r],i)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function R(e,i){if(e.type==="Feature")i(e,0);else if(e.type==="FeatureCollection")for(var t=0;t<e.features.length&&i(e.features[t],t)!==!1;t++);}function z(e,i,t){var r=t;return R(e,function(n,o){o===0&&t===void 0?r=n:r=i(r,n,o)}),r}function S(e,i){var t,r,n,o,u,s,a,f,c,l,m=0,v=e.type==="FeatureCollection",h=e.type==="Feature",p=v?e.features.length:1;for(t=0;t<p;t++){for(s=v?e.features[t].geometry:h?e.geometry:e,f=v?e.features[t].properties:h?e.properties:{},c=v?e.features[t].bbox:h?e.bbox:void 0,l=v?e.features[t].id:h?e.id:void 0,a=s?s.type==="GeometryCollection":!1,u=a?s.geometries.length:1,n=0;n<u;n++){if(o=a?s.geometries[n]:s,o===null){if(i(null,m,f,c,l)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(i(o,m,f,c,l)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(i(o.geometries[r],m,f,c,l)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}m++}}function H(e,i,t){var r=t;return S(e,function(n,o,u,s,a){r=i(r,n,o,u,s,a)}),r}function A(e,i){S(e,function(t,r,n,o,u){var s=t===null?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return i(P(t,n,{bbox:o,id:u}),r,0)===!1?!1:void 0}var a;switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var f=0;f<t.coordinates.length;f++){var c=t.coordinates[f],l={type:a,coordinates:c};if(i(P(l,n),r,f)===!1)return!1}})}function q(e,i){A(e,function(t,r,n){var o=0;if(t.geometry){var u=t.geometry.type;if(!(u==="Point"||u==="MultiPoint")){var s,a=0,f=0,c=0;if(L(t,function(l,m,v,h,p){if(s===void 0||r>a||h>f||p>c){s=l,a=r,f=h,c=p,o=0;return}var M=G([s,l],t.properties);if(i(M,r,n,p,o)===!1)return!1;o++,s=l})===!1)return!1}}})}function J(e,i,t){var r=t,n=!1;return q(e,function(o,u,s,a,f){n===!1&&t===void 0?r=o:r=i(r,o,u,s,a,f),n=!0}),r}function K(e,i){let t;if(i===void 0)for(const r of e)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let n of e)(n=i(n,++r,e))!=null&&(t<n||t===void 0&&n>=n)&&(t=n)}return t}function Q(e,i){let t=0;if(i===void 0)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let n of e)(n=+i(n,++r,e))&&(t+=n)}return t}export{R as a,P as b,F as c,A as d,L as e,B as f,S as g,N as h,U as i,H as j,g as k,G as l,K as m,W as n,V as o,D as p,T as q,O as r,Q as s,z as t,J as u};
